<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>그 외 메소드</title>
    <script src="resources/js/jquery-3.7.1.min.js"></script>
    <style>
        .hightlight-0 {
            background-color: red;
        }

        .hightlight-1 {
            background-color: orange;
        }

        .hightlight-2 {
            background-color: yellow;
        }

        .hightlight-3 {
            background-color: green;
        }

        .hightlight-4 {
            background-color: blue;
        }
    </style>
</head>

<body>
    <h3>** each() 메소드</h3>
    <p>
        배열의 모든 인덱스에 순차적으로 접근하고자 할 때 객체가 가지고 있는 모든 속성에 순차적을 접근하고자 할 때<br>
        객체가 가지고 있는 모든 속성에 순차적으로 접근하곶 ㅏ할 때 <br>
        사용하는 for in 문과 유사하게 수행되는 메소드
    </p>

    <pre>
    1) $.each(객체|배열, function([매개변수1, 매개변수2]){
        순차적으로 접근할 때마다 실행할 내용;
    })
    
    2) $(객체|배열).each(function([매개변수1, 매개변수2]){
        순차적으로 접근할 때마다 실행할 내용;
    })

    > 객체가 들어왔다면 
      첫번째 매개변수에는 순차적으로 접근할 때마다의 객체의 속성명(키)이 담김 
      두번째 매개변수에는 해당 속성값이 담김 

    </pre>

    <script>
        $(() => {
            const arr = ['강', '남', '하', '동'];
            // 배열
            // 1) for in 
            for (let i in arr) {
                console.log(`index : ${i}, value : ${arr[i]}`);
            }
            console.log('----------------------------------------------------------')

            // 2) each(배열, 함수)
            $.each(arr, function (index, value) {
                console.log(`index : ${index}, value : ${value}`);
            });
            console.log('----------------------------------------------------------')

            // 3) 객체|배열.each(함수)
            $(arr).each(function (index, value) {
                console.log(`index : ${index}, value : ${value}`);
            });
            console.log('----------------------------------------------------------')

            const student = {
                name: '한상진',
                age: 25,
                address: '서울'
            };

            // 객체
            // 1) for in 
            for (let key in student) {
                console.log(`key : ${key}, value : ${student[key]}`);
            }
            console.log('----------------------------------------------------------')

            // 2) each(배열, 함수)
            $.each(student, function (key, value) {
                console.log(`key : ${key}, value : ${value}`);
            });
            console.log('----------------------------------------------------------')

            // 3) 객체|배열.each(함수)
            $(student).each(function (key, value) {
                console.log(`key : ${key}}, value : ${value}`);
            });
            // [object Object] 들어오는 모습
            console.log('----------------------------------------------------------')


        })
    </script>

    <button id="btn1">학생조회</button>
    <table id="area1" border="1">
        <thead>
            <tr>
                <th>이름</th>
                <th>나이</th>
                <th>주소</th>
            </tr>
        </thead>
        <tbody>

        </tbody>
    </table>

    <script>
        $(() => {
            const student = {
                name: '한상진',
                age: 25,
                address: '서울'
            };
            const student1 = {
                name: '이하린',
                age: 20,
                address: '경기도'
            };
            const student2 = {
                name: '류하린',
                age: 21,
                address: '부산'
            };
            let students = [student, student1, student2];
            $('#btn1').click(function () {
                for (let i in students) {
                    $('#area1>tbody').append(`<tr class="tr${i}"></tr>`)
                    $.each(students[i], function (key, value) {
                        $(`.tr${i}`).append(`<td>${value}</td>`);
                    })
                }
            });
        });
    </script>

    <div id="area2">
        <h1>item-1</h1>
        <h1>item-2</h1>
        <h1>item-3</h1>
        <h1>item-4</h1>
        <h1>item-5</h1>
    </div>

    <script>
        $(() => {
            $('#area2').children().each((i/*, el*/) => {
                // el.addClass(`hightlight-${i}`); // javascript방식으로 선택된 요소가 담겨있어 안됨
                // el.className = (`hightlight-${i}`); // 자바스크립트 방식

                // $(el).addClass(`hightlight-${i}`); // jQuery 방식
                // $(this).addClass(`hightlight-${i}`); function 없을시 this 가 없어서 호출안됨
                // 하지만, 화살표 함수는 자체적인 this 컨텍스트를 가지지 않습니다. 대신, 부모 스코프의 this를 상속받습니다.
            });
            $('#area2').children().each(function (i, el) {
                // 'this'는 이제 현재 <h1> 요소를 올바르게 가리킵니다.
                $(this).addClass(`hightlight-${i}`);
            });
        });
    </script>

    <h3>* is 메소드</h3>
    <p>
        $('선택자').is('선택자')<br>
        선택된 요소가 내가 전달한 값과 일치하는지 판단하여 그에 해당하는 논리값 반환 (true|false)
    </p>

    <h4 class="test">test1</h4>
    <h4>test2</h4>
    <h4 class="test">test3</h4>
    <h4 class="test">test4</h4>
    <h4>test5</h4>
    <h4 class="test">test6</h4>

    <script>
        $(() => {
            // 이 문서에서 모든 h4요소에 순차적으로 접근하여 test 클래스가 존재하면 배경색을 변경하시오
            $('h4').each(function () {
                if ($(this).is('.test')) {
                    $(this).css('backgroundColor', 'aqua')
                }
            });
        });
    </script>

    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</body>

</html>